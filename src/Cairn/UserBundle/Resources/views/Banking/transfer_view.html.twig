{# src/Cairn/UserBundle/Resources/views/Banking/transfer_view.html.twig #}

{% extends "CairnUserBundle::layout.html.twig" %}

{% block body %}
    {{parent()}}
    <div>

        {% if transfer.id is defined %}
            <a href="{{path('cairn_user_banking_transfer_notice_download',{'id':transfer.id})}}"> Avis d'opération </a>
        {% endif %}
        <h1> Détail du virement </h1>

        <h2> Compte à débiter </h2>
            <ul>
                <li> Nom : {{transfer.from.type.name}}</li>
                <li> ICC : {{transfer.from.id}}</li>
                <li> Appartient à : 
                    {% if transfer.from.owner.display is defined %}
                        {{transfer.from.owner.display}}
                    {% else %}
                        Association Le Cairn
                    {% endif %}
                </li>
            </ul>

        <h2> Compte à créditer </h2>
            <ul>
                {% if transfer.from.owner.id == transfer.to.owner.id %}
                    <li>Nom : {{transfer.to.type.name}}</li>
                {% endif %}
                <li> ICC : {{transfer.to.id}}</li>
                <li> Appartient à : 
                    {% if transfer.to.owner.display is defined %}
                        {{transfer.to.owner.display}}
                    {% else %}
                        Association Le Cairn
                    {% endif %}
                </li>

            </ul>

        <em> Date d'exécution demandée : {{transfer.dueDate}} </em> </br>
        {% if transfer.id is defined %} {# id not defined for future transfer because there is no transfer entity in Cyclos yet #}
            <em> Date d'exécution effective : {{transfer.date}} </em> </br>
        {% else %}
             <em> Date de soumission : {{transfer.date}} </em> </br>
        {% endif %}
        <em> Montant : {{transfer.currencyAmount.amount}} </em></br>
        <em> Devise : {{transfer.currencyAmount.currency.name}} </em></br>

      {# <h3> Description : {{transfer.description}} </h3>#}
    </div>    
{% endblock %}
